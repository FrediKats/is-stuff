## ТСиС лекция от 21.02
### WhireShark

Параметры
1. Идентификатор
    * Mac-адрес
    * Ip адрес
    * Маска подсети
    * MTU (максимальный размер пакета, который может пройти через этот интерфейс)
2. Статистические
    * Переданные (Tx)
        * Packet
        * Errors
        * Отброш пакеты
    * Полученные (Rx)
        * -||-
3. Режимы работы
    * Broadcast
    * Multicast
    * Promisc

Например:
* Ath0 — беспровод
* m0/m
* ip0
* MTU — 1500

**Сетевой интерфейс** — набор ресурсов сетевой карты

**Фильтры захвата** — позволяют ограничить захват кадров только теми, что необходимы для анализы, снизить нагрузку и упросить анализ.

* Классификатор (название)
    * Type
        * Host
        * Net
        * Port
    * Dir
        * Src
       * Dst
    * Proto
        * ether
        * ip — ipv4
        * ip — ipv6
        * arp
        * tcp
        * udp
* Идентификатор (параметр фильтра)
    * Type
        * 192.168.0.1
        * 192.168.0.0/16
        * 80
    * dir
        * 192.168.0.1
        * 192.168.0.1
    * proto
        * mac0
        * icmp
        * _
        * _
        * 80
        * _

Пример:
* Type
    * 192.168.0.1
    * 192.168.0.0 – 192.168.255.255
    * все 80 порт
* dir
    * все пакеты, где 192.168.0.1 отправитель
    * все пакеты, где 192.168.0.1 получатель
* proto
    * Всё для устройства с mac0
    * Весь icmp
    * _
    * _
    * Всё по 80 порту TCP
    * _


**Фильтры отображения:**
* Название
    * Eth.dst
    * Eth.src
    * Arp.host
* Правило
    * ==
    * contains
    * matches
    * !=
    * include
* Параметр фильтра
    * 00:2a:3b:4c:5e:6f

Типы фильтров
* Простые
    * З: Класс + идентификатор
    * О: Название + правило + параметр
* Составные
    * Простой фильтр 1 + правило объединения + простой фильтр 2

Кадр делится на пакеты, пакет на сегменты, сегменты на данные, которые несут сообщения.
Для установки соединения:
```N.time mac.src mac.sdt ip.src ip.dst tcp.src.port tcp.dst.port protocol```

Компьтеры соединены сетевым соединением и информационным соединением

Просмотр заголовоков:
```N.time | frame length| packet length| segment length |data length```

```Endpoint list | conversation list | flow graph | IO graph```

**Endpoint** — сколько байт передано на конечный адрес. Поддерживает фильтрацию по протоколам
**Conversation** — лист переговоров. Статистика переговоров между двумя адресами
**Flow graph** — граф. взаимодейств между адресами
**IO graph** — временные зависимости